"use strict";(self.webpackChunkE_Commerce=self.webpackChunkE_Commerce||[]).push([[403],{2403:(ne,c,u)=>{u.r(c),u.d(c,{SettingModule:()=>re});var _=u(6814),m=u(7163),a=u(95),e=u(4769),f=u(5881);function g(t,n){1&t&&(e.TgZ(0,"p",23),e._uU(1," Curent Password Is Required "),e.qZA())}function w(t,n){1&t&&(e.TgZ(0,"p",23),e._uU(1," Must be at least 6 chars "),e.qZA())}function h(t,n){if(1&t&&(e.ynx(0),e.YNc(1,g,2,0,"p",22),e.YNc(2,w,2,0,"p",22),e.BQk()),2&t){const r=e.oxw();let s,o;e.xp6(1),e.Q6J("ngIf",null==(s=r.updateForm.get("currentPassword"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.updateForm.get("currentPassword"))?null:o.getError("pattern"))}}function C(t,n){1&t&&(e.TgZ(0,"p",23),e._uU(1," Password Is Required "),e.qZA())}function P(t,n){1&t&&(e.TgZ(0,"p",23),e._uU(1," Must be at least 6 chars "),e.qZA())}function x(t,n){if(1&t&&(e.ynx(0),e.YNc(1,C,2,0,"p",22),e.YNc(2,P,2,0,"p",22),e.BQk()),2&t){const r=e.oxw();let s,o;e.xp6(1),e.Q6J("ngIf",null==(s=r.updateForm.get("password"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.updateForm.get("password"))?null:o.getError("pattern"))}}function Z(t,n){1&t&&(e.TgZ(0,"p",23),e._uU(1," RePassword Is Required "),e.qZA())}function T(t,n){1&t&&(e.TgZ(0,"p",23),e._uU(1," Must be at least 6 chars "),e.qZA())}function b(t,n){if(1&t&&(e.ynx(0),e.YNc(1,Z,2,0,"p",22),e.YNc(2,T,2,0,"p",22),e.BQk()),2&t){const r=e.oxw();let s,o;e.xp6(1),e.Q6J("ngIf",null==(s=r.updateForm.get("rePassword"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.updateForm.get("rePassword"))?null:o.getError("pattern"))}}function v(t,n){if(1&t&&(e.TgZ(0,"button",24)(1,"span"),e._uU(2,"Change"),e.qZA()()),2&t){const r=e.oxw();e.Q6J("disabled",r.updateForm.invalid)}}function q(t,n){1&t&&(e.TgZ(0,"button",25)(1,"span"),e._UZ(2,"i",26),e.qZA()())}function I(t,n){if(1&t&&(e.TgZ(0,"p",27),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" ",r.errMsg," ")}}const p=function(t){return{"d-none":t}},A=["form1"],N=["form2"],y=["form3"];function Q(t,n){1&t&&(e.TgZ(0,"p",15),e._uU(1,"This field is required"),e.qZA())}function R(t,n){1&t&&(e.TgZ(0,"p",15),e._uU(1,"Email is not valid"),e.qZA())}function U(t,n){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,Q,2,0,"p",14),e.YNc(2,R,2,0,"p",14),e.qZA()),2&t){const r=e.oxw(2);let s,o;e.xp6(1),e.Q6J("ngIf",null==(s=r.forgetPassword.get("email"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.forgetPassword.get("email"))?null:o.getError("email"))}}function S(t,n){1&t&&(e.TgZ(0,"button",16),e._UZ(1,"i",17),e.qZA())}function M(t,n){if(1&t&&(e.TgZ(0,"button",18),e._uU(1,"Next"),e.qZA()),2&t){const r=e.oxw(2);e.Q6J("disabled",r.forgetPassword.invalid)}}function Y(t,n){if(1&t&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.errMsg," ")}}function k(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.ForgetPassword(o.forgetPassword))}),e.TgZ(2,"div",6)(3,"label",7),e._uU(4,"Email"),e.qZA(),e._UZ(5,"input",8),e.YNc(6,U,3,2,"div",9),e.qZA(),e.YNc(7,S,2,0,"button",10),e.YNc(8,M,2,1,"button",11),e.YNc(9,Y,2,1,"div",12),e.qZA()}if(2&t){const r=e.oxw();let s;e.Q6J("formGroup",r.forgetPassword),e.xp6(6),e.Q6J("ngIf",(null==(s=r.forgetPassword.get("email"))?null:s.errors)&&(null==(s=r.forgetPassword.get("email"))?null:s.touched)),e.xp6(1),e.Q6J("ngIf",r.isloader),e.xp6(1),e.Q6J("ngIf",!r.isloader),e.xp6(1),e.Q6J("ngIf",r.errMsg)}}function F(t,n){1&t&&(e.TgZ(0,"p",15),e._uU(1," resetCode is required"),e.qZA())}function E(t,n){1&t&&(e.TgZ(0,"p",15),e._uU(1,"must be at 6 chars"),e.qZA())}function G(t,n){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,F,2,0,"p",14),e.YNc(2,E,2,0,"p",14),e.qZA()),2&t){const r=e.oxw(2);let s,o;e.xp6(1),e.Q6J("ngIf",null==(s=r.verifyCode.get("resetCode"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.verifyCode.get("resetCode"))?null:o.getError("pattern"))}}function K(t,n){1&t&&(e.TgZ(0,"button",16),e._UZ(1,"i",17),e.qZA())}function H(t,n){if(1&t&&(e.TgZ(0,"button",18),e._uU(1,"Next"),e.qZA()),2&t){const r=e.oxw(2);e.Q6J("disabled",r.verifyCode.invalid)}}function V(t,n){if(1&t&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.errMsg," ")}}function j(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"form",4,20),e.NdJ("ngSubmit",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.handleVerifyResetCode(o.verifyCode))}),e.TgZ(2,"div",6)(3,"label",21),e._uU(4,"Reset Code:"),e.qZA(),e._UZ(5,"input",22),e.YNc(6,G,3,2,"div",9),e.qZA(),e.YNc(7,K,2,0,"button",10),e.YNc(8,H,2,1,"button",11),e.YNc(9,V,2,1,"div",12),e.qZA()}if(2&t){const r=e.oxw();let s;e.Q6J("formGroup",r.verifyCode),e.xp6(6),e.Q6J("ngIf",(null==(s=r.verifyCode.get("resetCode"))?null:s.errors)&&(null==(s=r.verifyCode.get("resetCode"))?null:s.touched)),e.xp6(1),e.Q6J("ngIf",r.isloader),e.xp6(1),e.Q6J("ngIf",!r.isloader),e.xp6(1),e.Q6J("ngIf",r.errMsg)}}function L(t,n){1&t&&(e.TgZ(0,"p",15),e._uU(1," Email is required"),e.qZA())}function B(t,n){1&t&&(e.TgZ(0,"p",15),e._uU(1," Email InValid Format"),e.qZA())}function O(t,n){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,L,2,0,"p",14),e.YNc(2,B,2,0,"p",14),e.qZA()),2&t){const r=e.oxw(2);let s,o;e.xp6(1),e.Q6J("ngIf",null==(s=r.resetPassword.get("email"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.resetPassword.get("resetCode"))?null:o.getError("email"))}}function $(t,n){1&t&&(e.TgZ(0,"p",15),e._uU(1," New Password Is Required"),e.qZA())}function z(t,n){1&t&&(e.TgZ(0,"p",15),e._uU(1," Must be at least 6 chars"),e.qZA())}function X(t,n){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,$,2,0,"p",14),e.YNc(2,z,2,0,"p",14),e.qZA()),2&t){const r=e.oxw(2);let s,o;e.xp6(1),e.Q6J("ngIf",null==(s=r.resetPassword.get("email"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.resetPassword.get("resetCode"))?null:o.getError("pattern"))}}function D(t,n){1&t&&(e.TgZ(0,"button",16),e._UZ(1,"i",17),e.qZA())}function W(t,n){if(1&t&&(e.TgZ(0,"button",18),e._uU(1,"Next"),e.qZA()),2&t){const r=e.oxw(2);e.Q6J("disabled",r.verifyCode.invalid)}}function ee(t,n){if(1&t&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.errMsg," ")}}function te(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"form",4,23),e.NdJ("ngSubmit",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.handleResetPassword(o.resetPassword))}),e.TgZ(2,"div",6)(3,"label",7),e._uU(4,"Email:"),e.qZA(),e._UZ(5,"input",24),e.YNc(6,O,3,2,"div",9),e.qZA(),e.TgZ(7,"div",6)(8,"label",25),e._uU(9,"newPassword:"),e.qZA(),e._UZ(10,"input",26),e.YNc(11,X,3,2,"div",9),e.qZA(),e.YNc(12,D,2,0,"button",10),e.YNc(13,W,2,1,"button",11),e.YNc(14,ee,2,1,"div",12),e.qZA()}if(2&t){const r=e.oxw();let s,o;e.Q6J("formGroup",r.resetPassword),e.xp6(6),e.Q6J("ngIf",(null==(s=r.resetPassword.get("email"))?null:s.errors)&&(null==(s=r.resetPassword.get("email"))?null:s.touched)),e.xp6(5),e.Q6J("ngIf",(null==(o=r.verifyCode.get("newPassword"))?null:o.errors)&&(null==(o=r.resetPassword.get("newPassword"))?null:o.touched)),e.xp6(1),e.Q6J("ngIf",r.isloader),e.xp6(1),e.Q6J("ngIf",!r.isloader),e.xp6(1),e.Q6J("ngIf",r.errMsg)}}const oe=[{path:"",redirectTo:"reseat",pathMatch:"full"},{path:"change",component:(()=>{var t;class n{constructor(s,o,i){this._AuthService=s,this._fb=o,this._Router=i,this.passwordShow=!1,this.curentPasswordShow=!1,this.rePasswordShow=!1,this.errMsg="",this.isLoading=!1}ngOnInit(){this.updateForm=this._fb.group({currentPassword:["",[a.kI.required,a.kI.pattern(/^\w{6,}$/)]],password:["",[a.kI.required,a.kI.pattern(/^\w{6,}$/)]],rePassword:[""]},{validator:[this.checkPassword]})}checkPassword(s){const o=s.get("password"),i=s.get("rePassword");""===i?.value?i?.setErrors({required:!0}):i?.value!==o?.value&&i?.setErrors({mismatch:!0})}handleUpdate(){this.isLoading=!0,this.updateForm.valid&&this._AuthService.updatePassword(this.updateForm.value).subscribe({next:s=>{"success"===s.message&&(this.isLoading=!1,console.log(s),localStorage.setItem("_token",s.token),this.updateForm.reset(),this.errMsg=s.message)},error:s=>{this.isLoading=!1,this.errMsg=s.error.message}})}}return(t=n).\u0275fac=function(s){return new(s||t)(e.Y36(f.e),e.Y36(a.qu),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-change-password"]],decls:41,vars:25,consts:[[1,"py-5","mt-5"],[1,"bg-main-light","w-75","mx-auto","rounded","shadow","p-3"],[1,"h4","text-center"],[1,"vstack","gap-3","w-75","mx-auto",3,"formGroup","ngSubmit"],[1,"form-item"],["for","currentPassword"],[1,"position-relative"],["formControlName","currentPassword","id","currentPassword","type","password","placeholder","Your Current Password....",1,"form-control"],["cupass",""],["role","button",1,"position-absolute","top-50","end-0","translate-middle-y","me-2",3,"ngClass","click"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],[4,"ngIf"],["for","password"],["formControlName","password","id","password","type","password","placeholder","Your Password....",1,"form-control"],["pass",""],["for","rePassword"],["formControlName","rePassword","id","rePassword","type","Password","placeholder","Confirm Password....",1,"form-control"],["repass",""],["type","submit","class","main-btn ms-auto",3,"disabled",4,"ngIf"],["type","button","disabled","","class","main-btn ms-auto",4,"ngIf"],["class","alert alert-danger text-center w-50 mx-auto mb-0 p-1 mt-3",4,"ngIf"],["class","alert alert-danger w-50 mx-auto p-1 mb-0",4,"ngIf"],[1,"alert","alert-danger","w-50","mx-auto","p-1","mb-0"],["type","submit",1,"main-btn","ms-auto",3,"disabled"],["type","button","disabled","",1,"main-btn","ms-auto"],[1,"fas","fa-spinner","fa-spin"],[1,"alert","alert-danger","text-center","w-50","mx-auto","mb-0","p-1","mt-3"]],template:function(s,o){if(1&s){const i=e.EpF();e.TgZ(0,"div",0)(1,"section",1)(2,"h1",2),e._uU(3,"Update User Password"),e.qZA(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return o.handleUpdate()}),e.TgZ(5,"div",4)(6,"label",5),e._uU(7,"Current Password:"),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"input",7,8),e.TgZ(11,"span",9),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(10);return o.curentPasswordShow=!0,e.KtG(l.type=1==o.curentPasswordShow?"text":"password")}),e._UZ(12,"i",10),e.qZA(),e.TgZ(13,"span",9),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(10);return o.curentPasswordShow=!1,e.KtG(l.type=0==o.curentPasswordShow?"password":"text")}),e._UZ(14,"i",11),e.qZA()(),e.YNc(15,h,3,2,"ng-container",12),e.qZA(),e.TgZ(16,"div",4)(17,"label",13),e._uU(18,"Password:"),e.qZA(),e.TgZ(19,"div",6),e._UZ(20,"input",14,15),e.TgZ(22,"span",9),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(21);return o.passwordShow=!0,e.KtG(l.type=1==o.passwordShow?"text":"password")}),e._UZ(23,"i",10),e.qZA(),e.TgZ(24,"span",9),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(21);return o.passwordShow=!1,e.KtG(l.type=0==o.passwordShow?"password":"text")}),e._UZ(25,"i",11),e.qZA()(),e.YNc(26,x,3,2,"ng-container",12),e.qZA(),e.TgZ(27,"div",4)(28,"label",16),e._uU(29,"RePassword:"),e.qZA(),e.TgZ(30,"div",6),e._UZ(31,"input",17,18),e.TgZ(33,"span",9),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(32);return o.rePasswordShow=!0,e.KtG(l.type=1==o.rePasswordShow?"text":"password")}),e._UZ(34,"i",10),e.qZA(),e.TgZ(35,"span",9),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(32);return o.rePasswordShow=!1,e.KtG(l.type=0==o.rePasswordShow?"password":"text")}),e._UZ(36,"i",11),e.qZA()(),e.YNc(37,b,3,2,"ng-container",12),e.qZA(),e.YNc(38,v,3,1,"button",19),e.YNc(39,q,3,0,"button",20),e.YNc(40,I,2,1,"p",21),e.qZA()()()}if(2&s){let i,d,l;e.xp6(4),e.Q6J("formGroup",o.updateForm),e.xp6(7),e.Q6J("ngClass",e.VKq(13,p,o.curentPasswordShow)),e.xp6(2),e.Q6J("ngClass",e.VKq(15,p,!o.curentPasswordShow)),e.xp6(2),e.Q6J("ngIf",(null==(i=o.updateForm.get("currentPassword"))?null:i.errors)&&(null==(i=o.updateForm.get("currentPassword"))?null:i.touched)),e.xp6(7),e.Q6J("ngClass",e.VKq(17,p,o.passwordShow)),e.xp6(2),e.Q6J("ngClass",e.VKq(19,p,!o.passwordShow)),e.xp6(2),e.Q6J("ngIf",(null==(d=o.updateForm.get("password"))?null:d.errors)&&(null==(d=o.updateForm.get("password"))?null:d.touched)),e.xp6(7),e.Q6J("ngClass",e.VKq(21,p,o.rePasswordShow)),e.xp6(2),e.Q6J("ngClass",e.VKq(23,p,!o.rePasswordShow)),e.xp6(2),e.Q6J("ngIf",(null==(l=o.updateForm.get("rePassword"))?null:l.errors)&&(null==(l=o.updateForm.get("rePassword"))?null:l.touched)),e.xp6(1),e.Q6J("ngIf",!o.isLoading),e.xp6(1),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",o.errMsg)}},dependencies:[_.mk,_.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),n})()},{path:"reseat",component:(()=>{var t;class n{constructor(s,o){this._authServices=s,this.router=o,this.first=!0,this.seconde=!1,this.done=!1,this.isloader=!1,this.email=""}ngOnInit(){this.forgetPassword=new a.cw({email:new a.NI(null,[a.kI.required,a.kI.email])}),this.verifyCode=new a.cw({resetCode:new a.NI("",[a.kI.required,a.kI.pattern(/^\d{6}$/)])}),this.resetPassword=new a.cw({email:new a.NI("",[a.kI.required,a.kI.email]),newPassword:new a.NI("",[a.kI.required,a.kI.pattern(/^\w{6,}$/)])})}ForgetPassword(s){this.isloader=!0,s.valid&&(console.log(s.value),this._authServices.ForgotPassword(s.value).subscribe({next:o=>{console.log(o),"success"===o.statusMsg&&(this.errMsg=o.message,this.isloader=!1,s.disable(),this.email=s.get("email")?.value,this.first=!1,this.seconde=!0)},error:o=>{console.log(o),this.errMsg=o.error.message,this.isloader=!1}}))}handleVerifyResetCode(s){this.isloader=!0,s.valid&&(console.log(s.value),this._authServices.VerifyResetCode(s.value).subscribe({next:o=>{console.log(o),"Success"===o.status&&(this.errMsg=o.status,this.isloader=!1,this.verifyCode.disable(),this.seconde=!1,this.done=!0,this.resetPassword.get("email")?.setValue(this.email),this.resetPassword.get("email")?.disable())},error:o=>{console.log(o),this.errMsg=o.error.message,this.isloader=!1}}))}handleResetPassword(s){if(this.isloader=!0,s.valid){console.log(s.value);const o={email:this.email,newPassword:s.get("newPassword")?.value};this._authServices.ResetPassword(o).subscribe({next:i=>{console.log(i),i?.token&&(this.errMsg=i.message,localStorage.setItem("_token",i?.token),this._authServices.getUserData(),this.isloader=!1,s.disable(),setTimeout(()=>{this.router.navigate(["/home"])},1e3))},error:i=>{console.log(i),this.errMsg=i.error.message,this.isloader=!1}})}}}return(t=n).\u0275fac=function(s){return new(s||t)(e.Y36(f.e),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-reseat-password"]],viewQuery:function(s,o){if(1&s&&(e.Gf(A,5),e.Gf(N,5),e.Gf(y,5)),2&s){let i;e.iGM(i=e.CRH())&&(o.form1=i.first),e.iGM(i=e.CRH())&&(o.form2=i.first),e.iGM(i=e.CRH())&&(o.form3=i.first)}},decls:7,vars:3,consts:[[1,"container","py-5","mt-5"],[1,"bg-main-light","py-4","px-3","my-4","shadow","rounded-4","mx-auto"],[1,"mb-3","text-center"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["form1",""],[1,"mb-2"],["for","email",1,"mb-2"],["type","email","id","email","formControlName","email","placeholder","Enter Your Email",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["class","btn bg-main text-white ms-auto d-flex",4,"ngIf"],["class","btn bg-main text-white my-3 w-100",3,"disabled",4,"ngIf"],["class","alert alert-danger w-50 mx-auto text-center my-3",4,"ngIf"],[1,"alert","alert-danger"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"btn","bg-main","text-white","ms-auto","d-flex"],[1,"fa","fa-spinner","fa-spin"],[1,"btn","bg-main","text-white","my-3","w-100",3,"disabled"],[1,"alert","alert-danger","w-50","mx-auto","text-center","my-3"],["form2",""],["for","resetCode",1,"mb-2"],["type","text","formControlName","resetCode","placeholder","Your Reset Code...",1,"form-control"],["form3",""],["type","email","formControlName","email","placeholder","Your Email...",1,"form-control"],["for","newPass",1,"mb-2"],["type","password","formControlName","newPassword","for","newPass","placeholder","Your New Password...",1,"form-control"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Forget Password"),e.qZA(),e.YNc(4,k,10,5,"form",3),e.YNc(5,j,10,5,"form",3),e.YNc(6,te,15,6,"form",3),e.qZA()()),2&s&&(e.xp6(4),e.Q6J("ngIf",o.first),e.xp6(1),e.Q6J("ngIf",o.seconde),e.xp6(1),e.Q6J("ngIf",o.done))},dependencies:[_.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".bg-main-light[_ngcontent-%COMP%]{width:70%}@media screen and (max-width:991.9px){.bg-main-light[_ngcontent-%COMP%]{width:100%}}"]}),n})()}];let se=(()=>{var t;class n{}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(oe),m.Bz]}),n})(),re=(()=>{var t;class n{}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[_.ez,se,a.u5,a.UX]}),n})()}}]);